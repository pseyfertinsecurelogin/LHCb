#============================================================================
# Maintainer : Markus Frank
#============================================================================
package           MDF_RFIO
version           v1r0

#============================================================================
branches          cmt doc src

use MDF            v* DAQ              -no_auto_imports
use CASTOR         v* LCG_Interfaces   -no_auto_imports

include_path none

# ==================== libraries ==================================
library MDF_RFIO *.cpp -import=MDF -import=CASTOR
apply_pattern ld_library_path
apply_pattern linker_library library=MDF_RFIO

macro_append MDF_RFIO_shlibflags ' ' WIN32 ' /EXPORT:rfio_open     /EXPORT:rfio_close   /EXPORT:rfio_read '
macro_append MDF_RFIO_shlibflags ' ' WIN32 ' /EXPORT:rfio_write    /EXPORT:rfio_stat    /EXPORT:rfio_fstat '
macro_append MDF_RFIO_shlibflags ' ' WIN32 ' /EXPORT:rfio_lseek    /EXPORT:rfio_access  /EXPORT:rfio_unlink '
macro_append MDF_RFIO_shlibflags ' ' WIN32 ' /EXPORT:rfio_parse    /EXPORT:rfio_perror  /EXPORT:rfio_serror '
macro_append MDF_RFIO_shlibflags ' ' WIN32 ' /EXPORT:rfiosetopt    /EXPORT:rfio_mkdir   /EXPORT:rfio_opendir '
macro_append MDF_RFIO_shlibflags ' ' WIN32 ' /EXPORT:rfio_closedir /EXPORT:rfio_readdir /EXPORT:C__serrno '
macro_append MDF_RFIO_shlibflags ' ' WIN32 ' /EXPORT:rfio_ftell    /EXPORT:rfio_lseek64 '
macro_append MDF_RFIO_shlibflags ' ' WIN32 ' /EXPORT:C__rfio_errno '

# Disable on Darwin because libshift not available
apply_pattern disable_package_on platform=Darwin
