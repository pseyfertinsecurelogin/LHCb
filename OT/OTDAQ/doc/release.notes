Package         : OTDAQ
Package manager : J.Amoraal
!---------------------------------------------------------------------

!======================= OTDAQ v7r1 2008-07-27 =======================
! 2008-07-22 - Jan Amoraal
 - Added bank version for simulation (SIM=63). Currently the decoding of
   SIM is the same as for real data (v3).
 - Make OTRawBankDecoder less verbose concerning empty GOL headders.

!======================= OTDAQ v7r0 2008-07-16 =======================
! 2008-07-07 - Jan Amoraal
 - Fix tables for Hardware to Software conversion. N.B., this change breaks
   the decoding of any data encoded with OTDAQ v6r0

!======================= OTDAQ v6r0p1 2008-06-30 =====================
! 2008-06-27 - Wouter Hulsbergen
 - Fixed an uninitialized variable

!======================= OTDAQ v6r0 2008-06-03 =======================
! 2008-06-03 - Wouter Hulsbergen
 - removed routine causing problems on windows
 - added data structures for decoded raw event
 - added interface to decoded raw event in OTRawBankDecoder

! 2008-06-02 - Stephanie Hansmann-Menzemer
 - move cleaning of det info from EndEvent to BeginEvent
   in OTRawBankDecoder.cpp

! 2008-05-29 - Wouter Hulsbergen
 - fixed bug in decoding of hits in short modules
 - added access function to list of raw hits

! 2008-05-27 - Stephanie Hansmann-Menzemer
 - remove all float variables, replace them by doubles

! 2008-05-29 - Marco Cattaneo
 - Add dictionary entry fot IOTRawBankEncoder

! 2008-05-27 Jan Amoraal
 - Added interface IOTRawBankEncoder
 - Added tool OTRawRawBankEncoder
  o Encodes channel ids and puts them in the RawBuffer
  o Used to encoded MCOTTimes and can be used to encoded OTTime
 - Modified RawHit
  o Added constructor for word channel and time 

! 2008-05-27 Herve Terrier
 - check for duplicate hits in OTTimeCreator
 - made decoder tool private in OTTimeCreator
 - made raw bank location property of rawbankdecoder
 - changed errors into warnings in rawbankdecoder
 - added access to L0 event id in OTSpecific header

!======================= OTDAQ v5r7 2008-05-07 ======================
! 2008-05-07 - Marco Cattaneo
 - Add new tool to dictionary
 - Add missing include in header file

! 2007-11-26 - Wouter Hulsbergen
 - Make RawBankDecoder suitable for reading real data

!======================= OTDAQ v5r6 2007-11-14 ======================
! 2007-11-14 - Wouter Hulsbergen
 - Cache calibrated time in OTLiteTime, replacing the static data member.

!======================= OTDAQ v5r5 2007-10-08 ======================
! 2007-10-06 - Wouter Hulsbergen
 - Added some protection against corrupted banks

! 2007-10-05 - Marco Cattaneo
 - Provided OTDAQ/IOTRawBankDecoder.h interface and moved OTRawBankDecoder.h into
   src directory.
 - Modified OTTimeCreator to propertly use IOTRawBankDecoder interface
 - Add dictionary generation for the tool interfaces
 - Redo change of 06-15

! 2007-09-26 - Wouter Hulsbergen
 -  added OTRawBankDecoder::finalize

!======================= OTDAQ v5r4 2007-09-18 ======================
! 2007-09-18 - Marco Cattaneo
 - Undo change of 06-15 since it needs also changes to the encoding that
   have not been made

! 2007-09-07 - Kurt Rinnert
 - fixed include path in OTLiteTime.cpp

! 2007-09-07 - Wouter Hulsbergen
 - Added OTLiteTime and OTRawBankDecoder
 - Modified OTTimeCreator to use OTRawBankDecoder

! 2007-06-15 - Jan Amoraal
 - Modfied bank id from 2 to 1

!======================= OTDAQ v5r3 2007-06-07 ======================
! 2007-06-07 - Marco Cattaneo
 - Adapt requirements to new GaudiObjDesc v10r0 patterns

!======================= OTDAQ v5r2 2007-04-10 ======================
! 2007-04-08 - Jan Amoraal
 - Fix unchecked status codes

!======================= OTDAQ v5r1 2007-03-05 ======================
! 2007-03-05 - Marco Cattaneo
 - Remove obsolete OTDAQ_load.cpp file

!======================= OTDAQ v5r0 2006-12-14 ======================
! 2006-12-06 - Florence RANJARD
 - apply_pattern install_more_includes

!====================== OTDAQ v4r4 2006-11-07 ========================
! 2006-11-07 M Needham
 - Make some minor changes in OTTimeCreator that speed up decoding a bit 

!====================== OTDAQ v4r3 2006-07-25 ========================
! 2006-07-21 - Jan Amoraal
 - Minor cleanups
 - Use gsl_hypot(x,y) == sqrt(x^2 + y^2)
 - Use GaudiKernel/SystemOfUnits and GaudiKernel/PhysicalConstants

!====================== OTDAQ v4r2p1 2006-06-27 ======================
! 2006-06-22 - Jan Amoraal
 - Minor cleanups

!====================== OTDAQ v4r2 2006-05-01 ======================
! 2006-05-01 - Jan Amoraal
 - Minor cleanups, and Tell1 updates in OTFillEventFromOTTime

!====================== OTDAQ v4r1 2006-03-31 ======================
! 2006-03-30 - Jan Amoraal
 - Minor changes due to new OTDet

!====================== OTDAQ v4r0 2006-02-15 ======================
! 2006-02-15 - Marco Cattaneo
 - requirements migrated to DigiEvent

! 2006-02-05 Jan Amoraal
 - More cleanup

! 2006-02-02 Jan Amoraal
 - Bug fix, get RawEvent from default location, don't create one
 - Renamed OTFillBufferFromOTTime to OTFillEventFromOTTime

! 2006-01-18 Jan Amoraal
 - Migrated to LHCb v20r0
 - Split-up OTDAQ.xml into DataWord.xml and GolHeader.xml

! 2005-01-11 Jacopo Nardulli
- Change from RawBuffer-> RawEvent

!====================== OTDAQ v3r3 2005-07-13 ======================
! 2005-06-29 Jacopo Nardulli
 - Fixing bug in OTTimeCreator  
 - Moving from 50 to 75 ns in the ReadoutGateTool 
 - Possibility to read Bank both with 1 and with 3 words as TELL1 Header

!===================== OTDAQ v3r2p1 2005-03-07 =====================
! 2005-03-07 - Marco Cattaneo
 - Fix requirements to use DAQEvent v*

!====================== OTDAQ v3r2 2004-12-10 ======================
! 2004-12-06 - Jacopo Nardulli
- Complete move to new base classes

! 2004-11-09 - Jacopo Nardulli
 - Move to the New Gaudi Base Classes  

!====================== OTDAQ v3r1 2004-10-26 ======================
! 2004-10-26 - Marco Cattaneo
 - Add OTBankVersion.h to define a version number of the OT RawBuffer banks.
 - Use this version number when building and decoding the bank

!====================== OTDAQ v3r0 2004-09-10 ======================
! 2004-09-10 - Marco Cattaneo
 - Add OTReadoutWindow tool (moved here to remove circular dependency on 
   OTSimulation)
 - Leave in OTDAQ subdirectory only .h files of interfaces

! 2004-08-30 - Jacopo Nardulli
  Modification of the package according to the New OT Event Model 
  and to the new OTChannelID.
  The new algorithm called OTTimeCreator retrieves the data from the 
  Raw Buffer and creates the object OTTime. It replaces both OTRetrieveBuffer 
  and OTClusterCreator.
  OTCheckOTDigit do not exist any more.
  An xml subdirectory has been created containing the file OTDAQ.xml. 
  This automatically generates the headers files GolHeader.h and DataWord.h
  The Algorithm OTFillRawBuffer has been moved in the package OT/OTSimulation
  The Algorithm OTFillBufferFromOTTime recreates the Buffer using the OTTime, 
  this is useful for the buffer tampering.

!====================== OTDAQ v2r0 2004-03-30 ======================
! 2004-03-30 - Jacopo Nardulli
  Small modifications: 
  - Fixing a bug related to the multiple hit capacity in OTRetrieveBuffer. 
  - Last version of the Algorithm OTChackOTDigit, which does not Run in Brunel.
    OTCheckOTDigit can be used with version  v23r2 of Brunel - Boole v5r2.
    
! 2004-03-25 - Jacopo Nardulli
 Second version of the package OTDAQ. Principal modifications respect to the 
 previous versions are:
  - New general data structure with 24 banks instead of 108 and 18 GOL 
    (instead of 4) per Bank.
  - Reimplementation of the Gol Header.
  - Introduction of the Otis Headers.  
  - Implementation of the multiple hit capacity (maximum 3 hits per channel).
  - Straw number encoded and decoded according to a different numbering scheme
    (closer to the hardware eletronic scheme) inside the package.


!====================== OTDAQ v1r1 2004-02-12 ======================
! 2004-02-12 - Marco Cattaneo
 - Fix the POOL crash of Brunel: a KeyedObject cannot belong to two containers,
   so in OTRetrieveBuffer put the digits directly in the ouput container

!====================== OTDAQ v1r0 2004-02-02 ======================
! 2004-02-02 - Jacopo Nardulli

  The package OTDAQ consists of 2 algorithms:
  - OTFillRawBuffer:   This algorithm retrieves the OTDigits and fills a RawBuffer
  - OTRetrieveBuffer:  This algorithm retrieves the RawEvent and creates the OTDigits.

  - The RawBuffer is a container which holds the banks. The banks are vectors of 32 
    bits-integers. There are 128 banks, each corresponding to a TELL 1 Board. Each bank has a 
    standard header (see note 2003 - 152).
  - Each TELL 1 Board has the data from 4 GOLs (every GOL correspond to a short module) and 
    each GOL takes data from 4 OTIS (each OTIS has 32 channels). See note 2003-041. 
  - The OTChannelID's are converted to a bank number (7 bits), GOL number (2 bits) and 
    Otis number (2 bits).
  - The 32-bit data in the bank consists of GOL-headers (first bit is 0) and the actual hits 
    (first bit is 1).
  - GOL-header: -------------------------------------------------------------
                bit     31  30-29   28-16     15-0
                         0   ID    nothing  GOL-size
      -------------------------------------------------------------
  - For each two hits a data word is filled. The GOL-size is the number of the data-words 
    inside the GOL.
  - data word:  -------------First hit---------||-----Next hit----------------
                bit     31  30-29  28-24  23-16  15  14-13    12-8  7-0
                         1 OTIS-ID straw  time    1 OTIS-ID  straw  time
      -------------------------------------------------------------
  - The straw number runs from 0-31. 

