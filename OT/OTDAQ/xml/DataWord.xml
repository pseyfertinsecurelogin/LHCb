<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE gdd SYSTEM "gdd.dtd">

<gdd>
  <package name="OTDAQ"> 
    <import name="Event/RawBank"/>
    <import name="Event/RawEvent"/>
    <class name="DataWord" 
           author="Jacopo Nardulli"
           desc="The Data Word is a word of 32 bits that containes the data of 2 hits of the OT for the OTDAQ data format">
      &StlVector;
      <constructor argList="int iWord, int ifirstOtis, int ifirstChannel, int ifirstTime, int iNull, int inextOtis, int inextChannel, int inextTime " 
                   desc="constructor with word, firstOtis, firstChannel, firstTime, null, nextOtis, nextChannel, nextTime, ">
        <code>    
                  m_dataWord  = (iWord &lt;&lt; wordBits) +
                                (ifirstOtis &lt;&lt; firstOtisBits) +
                                (ifirstChannel &lt;&lt; firstChannelBits) +
                                (ifirstTime &lt;&lt; firstTimeBits) +
                                (iNull &lt;&lt; nullBits) +
                                (inextOtis &lt;&lt; nextOtisBits) +
                                (inextChannel &lt;&lt; nextChannelBits) +
                                (inextTime &lt;&lt; nextTimeBits);
 
        </code>
      </constructor>
      <constructor argList="const DataWord aDataWord" 
                   desc="copy constructor">
        <code>
          m_dataWord = aDataWord.m_dataWord;
        </code>
      </constructor>
      <constructor argList="int id" 
                   initList="m_dataWord(id)" 
                   desc="constructor with DataWord">
        <code></code>
      </constructor>

      <method type="unsigned int"
              argList="DataWord dataWord"
              name="returnInt" 
              desc="Return an unsigned int from a DataWord ">
        <code> return dataWord.m_dataWord  &gt;&gt; 0; </code>      
      </method>

      <attribute type="bitfield" name="dataWord" desc="Data Word ID">  
        <bitfield name="nextTime" length="8" desc="nextTdcTime" setMeth="FALSE"/>  
        <bitfield name="nextChannel" length="5" desc="nextChannelID" setMeth="FALSE"/>  
        <bitfield name="nextOtis" length="2" desc="nextOtisID" setMeth="FALSE"/>  
        <bitfield name="null" length="1" desc="Null" setMeth="FALSE"/>  
        <bitfield name="firstTime" length="8" desc="firstTdcTime" setMeth="FALSE"/>  
        <bitfield name="firstChannel" length="5" desc="firstChannelIF" setMeth="FALSE"/>  
        <bitfield name="firstOtis" length="2" desc="firstOtisID" setMeth="FALSE"/>  
        <bitfield name="word" length="1" desc="Word" setMeth="FALSE"/>      
      </attribute>
    </class>
  </package>
</gdd>
