# $Id: requirements,v 1.119 2009-03-17 13:36:24 wouter Exp $ 
# =============================================================================
package       DetDesc
version       v18r13

# =========== structure =======================================================
branches      DetDesc doc cmt src

# =========== dependencies ====================================================
use           GaudiKernel       v*
use           ROOT              v* LCG_Interfaces
use           GSL               v* LCG_Interfaces -no_auto_imports

# =========== own includes ====================================================
apply_pattern install_more_includes more=DetDesc

# =========== constituents ====================================================
library       DetDescLib        Lib/*.cpp -import=GSL

# =========== standard patterns (the order is essential!) =====================
apply_pattern linker_library    library=DetDescLib 

# =============== LCG Dictionaries ============================================
apply_pattern     reflex_dictionary                                 \
                  dictionary=DetDesc                                \
                  headerfiles=$(DETDESCROOT)/dict/DetDescDict.h     \
                  selectionfile=$(DETDESCROOT)/dict/DetDescDict.xml \
                  options="-U__MINGW32__"

macro_append ROOT_linkopts " -lMathCore " \
             WIN32 " libMathCore.lib "
macro_append ROOT_linkopts "" \
             ROOT_GE_5_19&WIN32 " libGenVector.lib " \
             ROOT_GE_5_19 " -lGenVector "

private
# Note: libgslcblas is needed by libgsl, but the link is missing.
macro_prepend GSL_linkopts " -Wl,--no-as-needed " \
                    Darwin "" \
                     WIN32 "" \
          slc3_ia32_gcc323 "" \
      slc3_ia32_gcc323_dbg ""
macro_append GSL_linkopts " -Wl,--as-needed " \
                    Darwin "" \
                     WIN32 "" \
          slc3_ia32_gcc323 "" \
      slc3_ia32_gcc323_dbg ""
end_private
