// $Id: TestLomontCompare.cpp,v 1.1 2009-05-23 17:08:16 ibelyaev Exp $
// ============================================================================
// Include files
// ============================================================================
// STD & STL 
// ============================================================================
#include <iostream>
#include <iomanip>
#include <string>
// ============================================================================
// LHCbMath
// ============================================================================
#include "LHCbMath/Lomont.h"
// ============================================================================
/** @file
 *  The test file for "Lomont" comparison of doubles 
 *  @author Vanya BELYAEV i
 *  @date   2009-05-23
 */
// ============================================================================
void _test ( double a , double diff ) 
{
  int n = 0 ;
  std::cout << "test with a = " << std::setprecision ( 15 ) << a 
            << " \t diff "      << std::setprecision ( 15 ) << diff << std::endl ;
  do 
  {
    diff /= 9.0 ;
    ++n  ;
    std::cout << " n=" << n  
              << " \t diff=" << std::setprecision ( 15 ) << diff << std::endl ;
  }
  while ( !LHCb::Math::lomont_compare_double ( a , a +diff , 1000 ) ) ;
}
// ============================================================================
int main()
{
  _test (  1.01     , 3.01e-3 ) ;
  _test (  1.01e+10 , 3.01e-3 ) ;
  _test (  1.01e+50 , 3.01e-3 ) ;
  _test (  1.01e-10 , 3.01e-3 ) ;
  _test (  1.01e-50 , 3.01e-3 ) ;
  _test ( -1.01e-10 , 3.01e-3 ) ;
  _test ( -1.01e-50 , 3.01e-3 ) ;
  //
  return 0 ;
}
// ============================================================================
// The END 
// ============================================================================
