<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE gdd SYSTEM "gdd.dtd">

<gdd>
  <package name='LHCbKernel'>
    <class name='OTChannelID' 
           author='Jeroen van Tilburg and Jacopo Nardulli'
           desc='This class describes a single straw and contains the TDC-Time'
           virtual='FALSE'                                                      >
      &StlVector;
      <constructor argList='int iStation, int iLayer, int iQuarter, int iModule, int iStraw, int iTdcTime=0' 
                   desc='constructor with station, layer, quarter, module, straw and tdcTime'>
        <code>    
          m_channelID = (iStation &lt;&lt; stationBits) + 
                        (iLayer &lt;&lt; layerBits) + 
                        (iQuarter &lt;&lt; quarterBits) + 
                        (iModule &lt;&lt; moduleBits) + 
                        (iStraw &lt;&lt; strawBits) +
                        (iTdcTime &lt;&lt; tdcTimeBits);
        </code>
      </constructor>

      <constructor argList='int id' 
                   initList = 'm_channelID(id)' 
                   desc='constructor with channelID'>
        <code></code>
      </constructor>

      <copyconstructor/>

      <method type='bool' name='operator=='
              argList='const OTChannelID aChannel' const='TRUE' 
              desc='comparison equality'>
        <code> return (this->channelID() == aChannel.channelID()); </code>
      </method>
      <method type='bool' name='operator&lt;' 
              argList='const OTChannelID aChannel' const='TRUE' 
              desc='comparison &lt;'> 
        <code> return (this->channelID() &lt; aChannel.channelID()); </code>
      </method>
      <method type='bool' name='operator&gt;' 
              argList='const OTChannelID aChannel' const='TRUE' 
              desc='comparison &gt;'> 
        <code> return (this->channelID() &gt; aChannel.channelID()); </code>
      </method>
      <method type='' name='operator int' const='TRUE' 
              desc='operator overload, for use of channel ID as the key'> 
        <code> return m_channelID; </code>
      </method>
      <method type='unsigned' name='geometry' const='TRUE'
              desc='returns the geometrical part of the channelID'>
        <code> return (m_channelID &amp; uniqueStrawMask); </code>
      </method> 

      <method type = 'bool' name='sameGeometry' 
              argList = 'const OTChannelID testChannel' const = 'TRUE' 
              desc = 'true if same geometric channel '>
      
         <code> return (geometry() == testChannel.geometry()); </code>
      </method>  
  
      <method type = 'bool' name='sameTime' 
              argList = 'const OTChannelID testChannel' const = 'TRUE' 
              desc = 'true if same tdc counts'>
      
         <code> return (tdcTime() == testChannel.tdcTime()); </code>
      </method> 

      <attribute type='bitfield' name='channelID' desc='OT Channel ID'>
        <bitfield name='tdcTime' length='8' desc='TDC-time'/>
        <bitfield name='straw' length='8' desc='Straw' setMeth='FALSE'/>
        <bitfield name='module' length='4' desc='Module' setMeth='FALSE'/>
        <bitfield name='quarter' length='2' desc='Quarter' setMeth='FALSE'/>
        <bitfield name='layer' length='2' desc='Layer' setMeth='FALSE'/>
        <bitfield name='station' length='2' desc='Station' setMeth='FALSE'/>
        <bitfield name='uniqueLayer' length='layer, station' 
                  desc='Unique layer' setMeth='FALSE'/>
        <bitfield name='uniqueQuarter' length='quarter, layer, station' 
                  desc='Unique quarter' setMeth='FALSE'/>
        <bitfield name='uniqueModule' length='module, quarter, layer, station' 
                  desc='Unique layer' setMeth='FALSE'/>
        <bitfield name='uniqueStraw' length='straw, module, quarter, layer, station'
                  desc='Unique straw' setMeth='FALSE'/>
      </attribute>
    </class>
  </package>
</gdd>
